<nav class="mat-elevation-z6 app-primary-bg">
  <button id="toggle-menu-button" mat-icon-button (click)="onMenuIconClick.next()" angulartics2On="click" angularticsEvent="ToggleSideMenu">
    <mat-icon fontSet="fa" fontIcon="fa-bars"></mat-icon>
  </button>
  <a class="nav-button" mat-button routerLink >
    <img src="https://firebasestorage.googleapis.com/v0/b/myapft-35200.appspot.com/o/logo_yellow.svg?alt=media&token=d1353e46-e3bb-4de1-a6eb-2e6bbb54289d"/>
    <span>MY APFT</span>
  </a>
  <div class="flex-spacer"></div>
  <a class="nav-button" mat-button *ngFor="let item of navbarService.menu$ | async" [routerLink]="item.route" routerLinkActive="active"
    [routerLinkActiveOptions]="{exact: true}" [ngClass]="{ 'hide-mobile': item.hideMobile }">
    {{ item.name }}
  </a>
  <button mat-button class="hide-mobile" angulartics2On="click" angularticsEvent="ButtonClick" [angularticsProperties]="{label: 'Feedback'}" (click)="openDialog()">
    Newsletter
  </button>
  <a mat-button class="hide-mobile" angulartics2On="click" angularticsEvent="LinkClick" [angularticsProperties]="{label: 'Feedback'}" href="mailto:patrick.michalina@myapft.com?subject=My%20APFT%20Question">
    Feedback
  </a>
  <button id="user-menu-btn" mat-icon-button [matMenuTriggerFor]="menu">
    <mat-icon fontSet="fa" fontIcon="fa-user-circle-o"></mat-icon>
  </button>
  <mat-menu #menu="matMenu">
    <div *ngIf="!user">
      <button mat-menu-item routerLink="/login">Login</button>
    </div>
    <div *ngIf="user">
      <div id="user-box">
        <img [src]="user.photoURL" class="avatar">
        <div>
          <h3>{{ user.displayName }}</h3>
          <h4>{{ user.email }}</h4>
        </div>
      </div>
      <button mat-menu-item routerLink="/account">
        <span>Account</span>
      </button>
      <button mat-menu-item routerLink="/logout">
        <span>Logout</span>
      </button>
    </div>
  </mat-menu>
</nav>